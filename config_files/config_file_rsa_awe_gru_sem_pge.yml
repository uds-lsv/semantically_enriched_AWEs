# CONFIG FILE FOR AN EXPERIMENT
data_dir: '/data/GP_FBANK_ALL_39/'
#speech_metadata: '/semantic_processing/metadata/gp_words_metadata_train_valid_ft_29k.tsv'
speech_metadata: '/semantic_processing/metadata/gp_words_viz_tagged_stimuli_POL.tsv'
model_save_dir: '/semantic_processing/inprogress_models/'
embedding_file: '/semantic_processing/metadata/fasttext/ft_embeddings_pl.p'
seed: 1248 #1358
stimuli_language: 'POL'
model_languages: 'POL' # 'DEU' ' CZE' CZE POL POR HRV RUS BUL FRA
eval_split: 'DEV' #DEV' #EVA
#sample_size: 30000

pretrained_models:
  DEU: '14032022_17_34_09_AWEs_1cnn_3rnn_phon_512D_a1_b1_DEU_FBANK_100.pth'
  POR: '15032022_13_17_26_AWEs_1cnn_3rnn_phon_512D_a1_b1_POR_FBANK_98.pth'
  POL: '15032022_18_01_37_AWEs_1cnn_3rnn_phon_512D_a1_b1_POL_FBANK_98.pth'
    # CZE: '13102021_18_06_35_AWEs_1cnn_4rnn_1fc_sem_512D_CZE_FBANK_96.pth'
    # POL: '13102021_18_00_48_AWEs_1cnn_4rnn_1fc_sem_512D_POL_FBANK_100.pth'
    # POR: '13102021_18_14_49_AWEs_1cnn_4rnn_1fc_sem_512D_POR_FBANK_93.pth'
    # HRV: '13102021_18_13_34_AWEs_1cnn_4rnn_1fc_sem_512D_HRV_FBANK_99.pth'
    # RUS: '13102021_18_12_34_AWEs_1cnn_4rnn_1fc_sem_512D_RUS_FBANK_100.pth'
    # BUL: '13102021_18_10_04_AWEs_1cnn_4rnn_1fc_sem_512D_BUL_FBANK_97.pth'
    # FRA: '13102021_18_21_51_AWEs_1cnn_4rnn_1fc_sem_512D_FRA_FBANK_99.pth'
    # DEU: '13102021_18_23_05_AWEs_1cnn_4rnn_1fc_sem_512D_DEU_FBANK_100.pth'
    # XXX: '13102021_18_23_05_AWEs_1cnn_4rnn_1fc_sem_512D_DEU_FBANK_1.pth'


input_signal_params:
    acoustic_features: 'FBANK'
    max_num_frames: 120
    sampling_rate: 16000
#
acoustic_encoder:
    encoder_arch: 'GRU'
    spectral_dim: 39
    max_num_frames: 120
    hidden_state_dim: 512
    output_dim: 512
    n_layers: 3
    unit_dropout_prob: 0.2
    frame_dropout: False # either frame_dropout or feature_dropout can be True
    feature_dropout: False
    signal_dropout_prob: 0.0
#
phonetic_decoder:
    embedding_dim: 128
    hidden_state_dim: 512
    n_layers: 1
    vocab_size:
        POR: 45
        # CZE: 38
        POL: 36
        # RUS: 39
        # BUL: 35
        # HRV: 38
        # FRA: 41
        DEU: 45

#

training_hyperparams:
    learning_rate: 0.001
    batch_size: 512
    num_epochs: 100
    early_stopping_criteria: 10
cuda: True
catch_keyboard_interrupt: True
reload_from_files: False
expand_filepaths_to_save_dir: True


# non-linear acoustic
# CZE CZE 1.0
# CZE POL 0.25763702
# CZE POR 0.19930702
# CZE HRV 0.20546363
# CZE RUS 0.2556645
# CZE BUL 0.22464344
# CZE FRA 0.1986898
# CZE DEU 0.19059066

# non-linear semantic
# CZE CZE 1.0000001
# CZE POL 0.3458605
# CZE POR 0.2791908
# CZE HRV 0.2887668
# CZE RUS 0.3561235
# CZE BUL 0.29673433
# CZE FRA 0.24644637
# CZE DEU 0.21915142

# linear semantic
# CZE CZE 0.9999999796845159
# CZE POL 0.2471545167972425
# CZE POR 0.15861725082275152
# CZE HRV 0.24284799327094322
# CZE RUS 0.2328460321375334
# CZE BUL 0.1942492542582581
# CZE FRA 0.11573238698941436
# CZE DEU 0.12036680131830674

# POL CZE 0.2849971413362456
# POL POL 0.9999999890403577
# POL POR 0.1670585543227899
# POL HRV 0.2676249393632595
# POL RUS 0.2892600802440727
# POL BUL 0.15923467611315237
# POL FRA 0.12049855232491899
# POL DEU 0.13059499065423621

# RUS CZE 0.21205238414037128
# RUS POL 0.2191960277391377
# RUS POR 0.13806999968028622
# RUS HRV 0.21178287171742832
# RUS RUS 0.9999999671988903
# RUS BUL 0.1964382265033002
# RUS FRA 0.09046336692787965
# RUS DEU 0.0828465445372127

# HRV CZE 0.27369562125092683
# HRV POL 0.24064224623387245
# HRV POR 0.18931704007115807
# HRV HRV 0.9999999959815775
# HRV RUS 0.24350446801322034
# HRV BUL 0.19438925299177523
# HRV FRA 0.1117517275890272
# HRV DEU 0.10727401924900595

# BUL CZE 0.2048131148486241
# BUL POL 0.1817332980583731
# BUL POR 0.1367107745612156
# BUL HRV 0.2338871318829189
# BUL RUS 0.2287725520564791
# BUL BUL 1.0000000153746147
# BUL FRA 0.09764245430986056
# BUL DEU 0.10430377712168795

# POR CZE 0.2027346755369373
# POR POL 0.2671240220108525
# POR POR 1.0000000120004038
# POR HRV 0.1586504967208647
# POR RUS 0.26073755090116646
# POR BUL 0.14566709098134806
# POR FRA 0.45956415155464964
# POR DEU 0.1047156532327664




# acoustic

# CZE CZE 1.0000000155689432
# CZE POL 0.2155738621485083
# CZE POR 0.1310032308052698
# CZE HRV 0.19384502939463802
# CZE RUS 0.17079391667956292
# CZE BUL 0.17599311671464593
# CZE FRA 0.12506398366549115
# CZE DEU 0.13462482409248724

# CZE CZE 1.0000000058742917
# CZE POL 0.18412404275457755
# CZE POR 0.12735274986155698
# CZE HRV 0.1920995736345678
# CZE RUS 0.16790254400476473
# CZE BUL 0.1913019108816013
# CZE FRA 0.104695186086426
# CZE DEU 0.20063332767463668


# POL CZE 0.23953488927303357
# POL POL 0.9999999668808539
# POL POR 0.14771469530443015
# POL HRV 0.22014843237665901
# POL RUS 0.28090793153919347
# POL BUL 0.16578654984748234
# POL FRA 0.13946820909248397
# POL DEU 0.1460387926112914

# BUL CZE 0.17904116461449138
# BUL POL 0.18541547423788177
# BUL POR 0.15488282414121773
# BUL HRV 0.2044239357619342
# BUL RUS 0.20721622339619267
# BUL BUL 1.0000001363217172
# BUL FRA 0.13453541890880727
# BUL DEU 0.13250770264138245


# RUS CZE 0.19074225227424935
# RUS POL 0.20826074531420471
# RUS POR 0.14229684873998905
# RUS HRV 0.19528840099092062
# RUS RUS 0.9999998267717023
# RUS BUL 0.2126128402405073
# RUS FRA 0.12390352774989599
# RUS DEU 0.12777531723519375


# HRV CZE 0.22332759243990688
# HRV POL 0.19932889167271972
# HRV POR 0.14928448191015353
# HRV HRV 1.000000033865749
# HRV RUS 0.20628292632145112
# HRV BUL 0.1860289216308005
# HRV FRA 0.1355834029680516
# HRV DEU 0.14292444515102773

# POR CZE 0.18283523550319336
# POR POL 0.20959755178458261
# POR POR 0.9999999951821662
# POR HRV 0.16742645750882343
# POR RUS 0.18178367278923693
# POR BUL 0.16011938519334915
# POR FRA 0.2479625485513721
# POR DEU 0.16557996393074392


# FRA CZE 0.12486190582690486
# FRA POL 0.13849604443925348
# FRA POR 0.14316174653665092
# FRA HRV 0.12901747471653807
# FRA RUS 0.13370148241596994
# FRA BUL 0.1505272561108857
# FRA FRA 1.0000001555829285
# FRA DEU 0.1114393106293064


# DEU CZE 0.17316091642420228
# DEU POL 0.180798198992712
# DEU POR 0.1530278106953365
# DEU HRV 0.1663017097817934
# DEU RUS 0.17192589661281452
# DEU BUL 0.14824077106366118
# DEU FRA 0.14240810332107073
# DEU DEU 1.000000025491503

# DEU CZE 0.1959952635983628
# DEU POL 0.22384883411633677
# DEU POR 0.16814370198824188
# DEU HRV 0.23583380007244414
# DEU RUS 0.20354047609759632
# DEU BUL 0.199653552627088
# DEU FRA 0.15665175572491244
# DEU DEU 0.9999999937445793

# CZE CZE 0.9999999728626365
# CZE POL 0.4441328702400053
# CZE POR 0.4072554286831778
# CZE HRV 0.421166765887474
# CZE RUS 0.4154670662922774
# CZE BUL 0.41997639935064573
# CZE FRA 0.3559238910021018
# CZE DEU 0.3797677985813856
