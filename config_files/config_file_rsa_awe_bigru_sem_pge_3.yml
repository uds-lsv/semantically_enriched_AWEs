# CONFIG FILE FOR AN EXPERIMENT
data_dir: '/data/GP_FBANK_ALL_39/'
speech_metadata: '/semantic_processing/metadata/gp_words_metadata_train_valid_ft_29k.tsv'
model_save_dir: '/semantic_processing/inprogress_models/'
embedding_file: '/semantic_processing/metadata/fasttext/ft_embeddings_cs.p'
seed: 1248 #1358
stimuli_language: 'CZE'
model_languages: 'CZE POL POR HRV RUS BUL FRA DEU' # 'DEU' ' CZE'
eval_split: 'DEV' #DEV' #EVA
#sample_size: 30000

pretrained_models:
    CZE: '21102021_14_57_51_AWEs_1cnn_4rnn_1fc_sem_512D_CZE_FBANK_99.pth'
    POL: '21102021_15_02_20_AWEs_1cnn_4rnn_1fc_sem_512D_POL_FBANK_100.pth'
    POR: '21102021_18_08_15_AWEs_1cnn_4rnn_1fc_sem_512D_POR_FBANK_97.pth'
    HRV: '21102021_18_00_43_AWEs_1cnn_4rnn_1fc_sem_512D_HRV_FBANK_100.pth'
    RUS: '21102021_17_57_30_AWEs_1cnn_4rnn_1fc_sem_512D_RUS_FBANK_94.pth'
    BUL: '21102021_17_59_16_AWEs_1cnn_4rnn_1fc_sem_512D_BUL_FBANK_96.pth'
    FRA: '21102021_18_24_47_AWEs_1cnn_4rnn_1fc_sem_512D_FRA_FBANK_100.pth'
    DEU: '21102021_18_17_01_AWEs_1cnn_4rnn_1fc_sem_512D_DEU_FBANK_97.pth'
    #XXX: '14102021_21_22_04_AWEs_1cnn_4rnn_1fc_sem_512D_DEU_FBANK_1.pth'


input_signal_params:
    acoustic_features: 'FBANK'
    max_num_frames: 120
    sampling_rate: 16000
#
acoustic_encoder:
    encoder_arch: 'BiGRU'
    spectral_dim: 39
    max_num_frames: 120
    hidden_state_dim: 256
    output_dim: 512
    n_layers: 1
    unit_dropout_prob: 0.2
    frame_dropout: False # either frame_dropout or feature_dropout can be True
    feature_dropout: False
    signal_dropout_prob: 0.0
#
phonetic_decoder:
    embedding_dim: 128
    hidden_state_dim: 512
    n_layers: 1
    vocab_size:
        POR: 42
        CZE: 38
        POL: 36
        RUS: 39
        BUL: 35
        HRV: 38
        FRA: 41
        DEU: 44

#

training_hyperparams:
    learning_rate: 0.001
    batch_size: 512
    num_epochs: 100
    early_stopping_criteria: 10
cuda: True
catch_keyboard_interrupt: True
reload_from_files: False
expand_filepaths_to_save_dir: True


# CZE acoustic
# CZE CZE 0.9999999867702115
# CZE POL 0.45509547829579144
# CZE POR 0.4113764238922217
# CZE HRV 0.4436241224785103
# CZE RUS 0.4367372180809954
# CZE BUL 0.4433379460039205
# CZE FRA 0.4225517013047525
# CZE DEU 0.39171495755800095

# CZE semantic
# CZE CZE 1.0000000295764813
# CZE POL 0.2681631789422258
# CZE POR 0.16076074588980357
# CZE HRV 0.24393460180363652
# CZE RUS 0.24529999008140776
# CZE BUL 0.21356719108732547
# CZE FRA 0.14580270327070544
# CZE DEU 0.11805323706398407

# POL acoustic
# POL CZE 0.4563993218022975
# POL POL 1.0000000161923597
# POL POR 0.40232058649087227
# POL HRV 0.4544246662705969
# POL RUS 0.44519770301218553
# POL BUL 0.43577953925618323
# POL FRA 0.40627993111263877
# POL DEU 0.3806420709374034

# POL semantic
# POL CZE 0.2986276806422719
# POL POL 1.0000000487234069
# POL POR 0.16567726815858483
# POL HRV 0.2804242843176799
# POL RUS 0.2962106963865487
# POL BUL 0.1960071688560228
# POL FRA 0.13510695664357683
# POL DEU 0.126717850691402


# HRV acoustic
# HRV CZE 0.4886480079596296
# HRV POL 0.493979986391708
# HRV POR 0.46493209310432587
# HRV HRV 1.000000016054753
# HRV RUS 0.4918278168470498
# HRV BUL 0.5085247128787522
# HRV FRA 0.4437596843684615
# HRV DEU 0.42504191251552476

# HRV semantic
# HRV CZE 0.2900158508120902
# HRV POL 0.26796513229106855
# HRV POR 0.19678283683535036
# HRV HRV 0.999999957557028
# HRV RUS 0.2872381227646587
# HRV BUL 0.24544533693920856
# HRV FRA 0.14171730468751448
# HRV DEU 0.1214510284924481

# BUL acoustic
# BUL CZE 0.46849143042556884
# BUL POL 0.46207482478487055
# BUL POR 0.43865797032650944
# BUL HRV 0.4783574463146516
# BUL RUS 0.4754386974818007
# BUL BUL 1.0000001050722047
# BUL FRA 0.42535058072741755
# BUL DEU 0.3973046570662925

# BUL semantic
# BUL CZE 0.22591452293376665
# BUL POL 0.23370142390707738
# BUL POR 0.10604964624781164
# BUL HRV 0.2593973000043198
# BUL RUS 0.2730480061722305
# BUL BUL 0.9999999837309682
# BUL FRA 0.12283000967401174
# BUL DEU 0.11912034671957034

# RUS acoustic
# RUS CZE 0.46064295606425015
# RUS POL 0.46180534529177697
# RUS POR 0.42182299748666807
# RUS HRV 0.4632795634075039
# RUS RUS 1.0000000375388374
# RUS BUL 0.4774840677429112
# RUS FRA 0.41534675092560236
# RUS DEU 0.38523576359838846

# RUS semantic
# RUS CZE 0.23822611320689566
# RUS POL 0.25411215513897406
# RUS POR 0.1463089381490359
# RUS HRV 0.22939190446244864
# RUS RUS 0.9999999900626722
# RUS BUL 0.23243465542628558
# RUS FRA 0.12570002684783063
# RUS DEU 0.09296935319171978

# POR acoustic
# POR CZE 0.41706273091181423
# POR POL 0.4194251631048953
# POR POR 0.9999999641688686
# POR HRV 0.4377092709283811
# POR RUS 0.42375714278015936
# POR BUL 0.42843690841257287
# POR FRA 0.4422466671177104
# POR DEU 0.40808664772496134

# POR semantic
# POR CZE 0.2025628249105809
# POR POL 0.21551749611800158
# POR POR 0.9999998303328909
# POR HRV 0.18317877539726377
# POR RUS 0.29789366209441
# POR BUL 0.19108792905061586
# POR FRA 0.49957947280623494
# POR DEU 0.11816968763283058


# FRA acoustic
# FRA CZE 0.44038243543420497
# FRA POL 0.446745183083903
# FRA POR 0.4665107953091661
# FRA HRV 0.43467461271036395
# FRA RUS 0.43201205213173705
# FRA BUL 0.45567143941935917
# FRA FRA 1.0000000234959312
# FRA DEU 0.43517467665183174

# FRA semantic
# FRA CZE 0.14608733805985682
# FRA POL 0.17962603723378687
# FRA POR 0.41913865231856773
# FRA HRV 0.15123516312504814
# FRA RUS 0.29281458972435803
# FRA BUL 0.20841334198756947
# FRA FRA 0.9999999862638791
# FRA DEU 0.07835386716816568


# DEU acoustic
# DEU CZE 0.41369096895232754
# DEU POL 0.4070806259504936
# DEU POR 0.39504808979690875
# DEU HRV 0.4007677893227744
# DEU RUS 0.39887772715173603
# DEU BUL 0.3821536737099726
# DEU FRA 0.419291910362628
# DEU DEU 0.9999999721445374

# DEU semantic
# DEU CZE 0.18685795083676704
# DEU POL 0.17617483134817344
# DEU POR 0.1453931781814375
# DEU HRV 0.15673357088275666
# DEU RUS 0.19326716672450645
# DEU BUL 0.14955133450417774
# DEU FRA 0.09972982747910157
# DEU DEU 1.0000002040470162
